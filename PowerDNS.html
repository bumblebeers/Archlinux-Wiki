<!DOCTYPE html>
<html class="client-nojs vector-feature-language-in-header-enabled vector-feature-language-in-main-page-header-disabled vector-feature-sticky-header-disabled vector-feature-page-tools-pinned-disabled vector-feature-toc-pinned-clientpref-1 vector-feature-main-menu-pinned-disabled vector-feature-limited-width-clientpref-1 vector-feature-limited-width-content-enabled vector-feature-custom-font-size-clientpref-0 vector-feature-appearance-pinned-clientpref-1 vector-feature-night-mode-enabled skin-theme-clientpref-day vector-toc-available" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>PowerDNS - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.43.3">
<meta name="referrer" content="no-referrer-when-downgrade">
<meta name="robots" content="max-image-preview:standard">
<meta name="format-detection" content="telephone=no">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=0.25, maximum-scale=5.0">
<link rel="search" type="application/opensearchdescription+xml" href="/rest.php/v1/search" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="https://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="skin--responsive skin-vector skin-vector-search-vue mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-PowerDNS rootpage-PowerDNS skin-vector-2022 action-view">
<a class="mw-jump-link" href="#bodyContent">Jump to content</a>
<div class="vector-header-container">
	</div>
<div class="mw-page-container">
	<div class="mw-page-container-inner">
		<div class="vector-column-start">
			<div class="vector-main-menu-container">
		</div>
	<div class="vector-sticky-pinned-container">
				<nav id="mw-panel-toc" aria-label="Contents" data-event-name="ui.sidebar-toc" class="mw-table-of-contents-container vector-toc-landmark">
					<div id="vector-toc-pinned-container" class="vector-pinned-container">
					<div id="vector-toc" class="vector-toc vector-pinnable-element">
	<div class="vector-pinnable-header vector-toc-pinnable-header vector-pinnable-header-pinned" data-feature-name="toc-pinned" data-pinnable-element-id="vector-toc">
	<h2 class="vector-pinnable-header-label">Contents</h2>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-pin-button" data-event-name="pinnable-header.vector-toc.pin">move to sidebar</button>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-unpin-button" data-event-name="pinnable-header.vector-toc.unpin">hide</button>
</div>


	<ul class="vector-toc-contents" id="mw-panel-toc-list">
		<li id="toc-mw-content-text" class="vector-toc-list-item vector-toc-level-1">
			<a href="#" class="vector-toc-link">
				<div class="vector-toc-text">Beginning</div>
			</a>
		</li>
		<li id="toc-Installation" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Installation">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">1</span>
				<span>Installation</span>
			</div>
		</a>
		
		<ul id="toc-Installation-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Backends" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Backends">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">2</span>
				<span>Backends</span>
			</div>
		</a>
		
			<button aria-controls="toc-Backends-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Backends subsection</span>
			</button>
		
		<ul id="toc-Backends-sublist" class="vector-toc-list">
			<li id="toc-PostgreSQL_backend" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#PostgreSQL_backend">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">2.1</span>
					<span>PostgreSQL backend</span>
				</div>
			</a>
			
			<ul id="toc-PostgreSQL_backend-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-MySQL_backend" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#MySQL_backend">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">2.2</span>
					<span>MySQL backend</span>
				</div>
			</a>
			
			<ul id="toc-MySQL_backend-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-SQLite_backend" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#SQLite_backend">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">2.3</span>
					<span>SQLite backend</span>
				</div>
			</a>
			
			<ul id="toc-SQLite_backend-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Startup" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Startup">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">3</span>
				<span>Startup</span>
			</div>
		</a>
		
		<ul id="toc-Startup-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Zone_Management" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Zone_Management">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">4</span>
				<span>Zone Management</span>
			</div>
		</a>
		
		<ul id="toc-Zone_Management-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-DNSSEC" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#DNSSEC">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">5</span>
				<span>DNSSEC</span>
			</div>
		</a>
		
		<ul id="toc-DNSSEC-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Tips_and_Tricks" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Tips_and_Tricks">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">6</span>
				<span>Tips and Tricks</span>
			</div>
		</a>
		
			<button aria-controls="toc-Tips_and_Tricks-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Tips and Tricks subsection</span>
			</button>
		
		<ul id="toc-Tips_and_Tricks-sublist" class="vector-toc-list">
			<li id="toc-Bind_address_and/or_port" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Bind_address_and/or_port">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">6.1</span>
					<span>Bind address and/or port</span>
				</div>
			</a>
			
			<ul id="toc-Bind_address_and/or_port-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Zone_replication_via_AXFR_(primary/secondary_setup)" class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Zone_replication_via_AXFR_(primary/secondary_setup)">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">6.2</span>
					<span>Zone replication via AXFR (primary/secondary setup)</span>
				</div>
			</a>
			
			<ul id="toc-Zone_replication_via_AXFR_(primary/secondary_setup)-sublist" class="vector-toc-list">
				<li id="toc-TSIG_authentication" class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#TSIG_authentication">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">6.2.1</span>
					<span>TSIG authentication</span>
				</div>
			</a>
			
			<ul id="toc-TSIG_authentication-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
	</ul>
	</li>
	<li id="toc-See_also" class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#See_also">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">7</span>
				<span>See also</span>
			</div>
		</a>
		
		<ul id="toc-See_also-sublist" class="vector-toc-list">
		</ul>
	</li>
</ul>
</div>

					</div>
		</nav>
			</div>
		</div>
		<div class="mw-content-container">
			<main id="content" class="mw-body" style="margin: 0">
				<header class="mw-body-header vector-page-titlebar">
					<nav aria-label="Contents" class="vector-toc-landmark">
						
<div id="vector-page-titlebar-toc" class="vector-dropdown vector-page-titlebar-toc vector-button-flush-left">
	<input type="checkbox" id="vector-page-titlebar-toc-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-vector-page-titlebar-toc" class="vector-dropdown-checkbox " aria-label="Toggle the table of contents">
	<label id="vector-page-titlebar-toc-label" for="vector-page-titlebar-toc-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only " aria-hidden="true"><span class="vector-icon mw-ui-icon-listBullet mw-ui-icon-wikimedia-listBullet"></span>

<span class="vector-dropdown-label-text">Toggle the table of contents</span>
	</label>
	<div class="vector-dropdown-content">


							<div id="vector-page-titlebar-toc-unpinned-container" class="vector-unpinned-container">
			</div>
		
	</div>
</div>

					</nav>
					<h1 id="firstHeading" class="firstHeading mw-first-heading"><span class="mw-page-title-main">PowerDNS</span></h1>
							
<div id="p-lang-btn" class="vector-dropdown mw-portlet mw-portlet-lang">
	<input type="checkbox" id="p-lang-btn-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-p-lang-btn" class="vector-dropdown-checkbox mw-interlanguage-selector" aria-label="Go to an article in another language. Available in 1 language">
	<label id="p-lang-btn-label" for="p-lang-btn-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--action-progressive mw-portlet-lang-heading-1" aria-hidden="true"><span class="vector-icon mw-ui-icon-language-progressive mw-ui-icon-wikimedia-language-progressive"></span>

<span class="vector-dropdown-label-text">1 language</span>
	</label>
	<div class="vector-dropdown-content">

		<div class="vector-menu-content">
			
			<ul class="vector-menu-content-list">
				
				<li class="interlanguage-link interwiki-ja mw-list-item"><a href="https://wiki.archlinux.jp/index.php/PowerDNS" title="PowerDNS – 日本語" lang="ja" hreflang="ja" data-title="PowerDNS" data-language-autonym="日本語" data-language-local-name="日本語" class="interlanguage-link-target"><span>日本語</span></a></li>
			</ul>
			
		</div>

	</div>
</div>
</header>
				<div class="vector-column-end">
					<div class="vector-sticky-pinned-container">
						<nav class="vector-page-tools-landmark" aria-label="Page tools">
							<div id="vector-page-tools-pinned-container" class="vector-pinned-container">
				
							</div>
		</nav>
						<nav class="vector-appearance-landmark" aria-label="Appearance">
							<div id="vector-appearance-pinned-container" class="vector-pinned-container">
				<div id="vector-appearance" class="vector-appearance vector-pinnable-element">
	<div class="vector-pinnable-header vector-appearance-pinnable-header vector-pinnable-header-pinned" data-feature-name="appearance-pinned" data-pinnable-element-id="vector-appearance" data-pinned-container-id="vector-appearance-pinned-container" data-unpinned-container-id="vector-appearance-unpinned-container">
	<div class="vector-pinnable-header-label">Appearance</div>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-pin-button" data-event-name="pinnable-header.vector-appearance.pin">move to sidebar</button>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-unpin-button" data-event-name="pinnable-header.vector-appearance.unpin">hide</button>
</div>


</div>

							</div>
		</nav>
					</div>
				</div>
				<div id="bodyContent" class="vector-body" aria-labelledby="firstHeading" data-mw-ve-target-container>
					<div class="vector-body-before-content">
							<div class="mw-indicators">
		</div>

						<div id="siteSub" class="noprint">From ArchWiki</div>
					</div>
					<div id="contentSub"><div id="mw-content-subtitle"></div></div>
					
					
					<div id="mw-content-text" class="mw-body-content">
<div class="mw-content-ltr mw-parser-output" lang="en" dir="ltr">
<p><a rel="nofollow" class="external text" href="https://www.powerdns.com/">PowerDNS</a> is a DNS server, written in C++ and licensed under the GPL. PowerDNS features a large number of different backends ranging from simple <a href="../en/BIND.html" title="BIND">BIND</a> style zonefiles to relational databases and load balancing/failover algorithms.
</p>
<meta property="mw:PageProp/toc">
<h2><span class="mw-headline" id="Installation">Installation</span></h2>
<p><a href="../en/Help:Reading.html#Installation_of_packages" class="mw-redirect" title="Install">Install</a> the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=powerdns">powerdns</a></span> package.
</p>
<p>Next you can review the configuration file located at <code>/etc/powerdns/pdns.conf</code>.
</p>
<h2><span class="mw-headline" id="Backends">Backends</span></h2>
<p>To configure PowerDNS to use specific backend you will need to set the <code>launch</code> option in configuration file.
Also depending on particular backend you use, you will have to configure it.
</p>
<p>For <a href="../en/PostgreSQL.html" title="PostgreSQL">PostgreSQL</a>, <a href="../en/MySQL.html" title="MySQL">MySQL</a> and <a href="../en/SQLite.html" title="SQLite">SQLite</a> you can find database table creation SQL files located at <code>/usr/share/doc/powerdns</code>.
</p>
<h3><span class="mw-headline" id="PostgreSQL_backend">PostgreSQL backend</span></h3>
<p>Firstly you will need to <a href="../en/PostgreSQL.html#Create_your_first_database/user" title="PostgreSQL">create a user and database</a> where PowerDNS can store data, then import the schema:
</p>
<pre>$ psql -U &lt;user&gt; -d &lt;database name&gt; -a -f /usr/share/doc/powerdns/schema.pgsql.sql
</pre>
<p>And finally update configuration file to use the backend:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/powerdns/pdns.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">launch=gpgsql
gpgsql-host=/run/postgresql # if PostgreSQL is listening to unix socket
# gpgsql-host=127.0.0.1
# gpgsql-port=5432
gpgsql-dbname=&lt;database name&gt;
gpgsql-user=&lt;user to use&gt;
gpgsql-password=
# Uncomment for dnssec support
#gpgsql-dnssec=yes</pre>
<h3><span class="mw-headline" id="MySQL_backend">MySQL backend</span></h3>
<p>Install and run a <a href="../en/MySQL.html" title="MySQL">MySQL</a> server. Create a new user, and a new database and import the schema into the db:
</p>
<pre>$ mysql -u root -p pdns &lt; /usr/share/doc/powerdns/schema.mysql.sql</pre>
<p>Then, configure Powerdns to use MySQL:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/powerdns/pdns.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">launch=gmysql
gmysql-host=127.0.0.1
gmysql-socket=/run/mysqld/mysqld.sock
gmysql-user=pdns
gmysql-password=Pa$$w0rd
gmysql-dbname=pdns
# Uncomment for dnssec support
#gmysql-dnssec=yes</pre>
<p>You could also use localhost instead of 127.0.0.1, but this causes PowerDNS to use the socket file. As PowerDNS runs in a chroot by default, the socket file is not available.
</p>
<h3><span class="mw-headline" id="SQLite_backend">SQLite backend</span></h3>
<p>Configure Powerdns to use sqlite:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/powerdns/pdns.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">launch=gsqlite3
gsqlite3-database=/var/lib/powerdns/pdns.sqlite3
# Uncomment for dnssec support
#gsqlite3-dnssec=yes</pre>
<p>Create the database:
</p>
<pre># mkdir /var/lib/powerdns
# sqlite3 /var/lib/powerdns/pdns.sqlite3 &lt; /usr/share/doc/powerdns/schema.sqlite3.sql
# chown -R powerdns:powerdns /var/lib/powerdns
</pre>
<h2><span class="mw-headline" id="Startup">Startup</span></h2>
<p><a href="../en/Help:Reading.html#Control_of_systemd_units" class="mw-redirect" title="Start/enable">Start/enable</a> <code>pdns.service</code>.
</p>
<h2><span class="mw-headline" id="Zone_Management">Zone Management</span></h2>
<p>PowerDNS comes with <span class="plainlinks archwiki-template-man" title="$ man 1 pdnsutil"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/pdnsutil.1">pdnsutil(1)</a></span> utility to easily manage hosted zones.
</p>
<p>Create a new, empty zone:
</p>
<pre>[powerdns]$ pdnsutil create-zone example.net
</pre>
<p>To edit the zone:
</p>
<pre>[powerdns]$ pdnsutil edit-zone example.net
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> <code>EDITOR</code> <a href="../en/Environment_variables.html" title="Environment variables">environment variable</a> must be set to be able edit the zone this way.</div>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Warning:</strong> When editing the zone, all names <b>must</b> be in fully-qualified form, without trailing dot (e.g. <code>www.example.net</code>).</div>
<p>Upon saving and quitting the editor, you will be asked for confirmation to commit the changes. <b>Carefully read the shown diff</b> and only press <code>a</code> when you're certain that the change is correct. If you keep SOA record unchanged, you'll also be asked whether to increase serial number or not. In most cases, you can simply reply with <code>y</code>, which bumps the number.
</p>
<p>When you want to no longer serve the zone, you can remove it from the backend:
</p>
<pre>[powerdns]$ pdnsutil delete-zone example.net
</pre>
<h2><span class="mw-headline" id="DNSSEC">DNSSEC</span></h2>
<p>PowerDNS has easy-to-use facilities to serve DNSSEC-signed zone with minimal administrative overhead. It takes advantage of <a rel="nofollow" class="external text" href="https://doc.powerdns.com/authoritative/dnssec/modes-of-operation.html#online-signing">online signing architecture</a>, which generates signatures on-demand when queries come from Internet.
</p>
<p>For most cases, turning existing insecure zone into DNSSEC-signed one is as simply as:
</p>
<pre>[powerdns]$ pdnsutil secure-zone example.net
</pre>
<p>This will sign the zone with single (CSK) ECDSA 256-bit (algorithm 13) key with NSEC denial-of-existence.
</p>
<p>For more flexibility on key generation, <code>pdnsutil add-zone-key</code> command can be used instead. For example, to generate traditional KSK/ZSK split ECDSA 256-bit keys:
</p>
<pre>[powerdns]$ pdnsutil add-zone-key example.net ksk active published ecdsa256
[powerdns]$ pdnsutil add-zone-key example.net zsk active published ecdsa256
[powerdns]$ pdnsutil increase-serial example.net
</pre>
<p>To view DS records (and other zone information):
</p>
<pre>[powerdns]$ pdnsutil show-zone example.dns
</pre>
<p>Submit DS to the parent zone (e.g. by filling the web form on your registrar).
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> In <a href="#Zone_replication_via_AXFR_(primary/secondary_setup)">primary/secondary setup</a>, DNSSEC-signed zones are served as pre-signed zones on secondaries. This can alleviate CPU load on secondaries as these zones' signatures were generated in online signing mode on primary (which can be set up as stealth one) during zone transfer.</div>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Warning:</strong> PowerDNS currently doesn't have automatic key management feature. If you want to roll keys, see the upstream guide (<a rel="nofollow" class="external text" href="https://doc.powerdns.com/authoritative/guides/kskroll.html">for KSK</a>, <a rel="nofollow" class="external text" href="https://doc.powerdns.com/authoritative/guides/zskroll.html">for ZSK</a>, and <a rel="nofollow" class="external text" href="https://doc.powerdns.com/authoritative/guides/algoroll.html">for algorithm rollovers</a>) to avoid pitfalls that can cause your zone being bogus.</div>
<h2><span class="mw-headline" id="Tips_and_Tricks">Tips and Tricks</span></h2>
<h3>
<span id="Bind_address_and.2For_port"></span><span class="mw-headline" id="Bind_address_and/or_port">Bind address and/or port</span>
</h3>
<p>The default <code>/etc/powerdns/pdns.conf</code> binds to 0.0.0.0:53 (all IP addresses). This will conflict with any other process bound to port 53, for example <code>systemd-resolved</code> uses 127.0.0.53:53. This will result in an error:
</p>
<pre>Unable to bind UDP socket to '0.0.0.0:53': Address already in use
</pre>
<p>This can be resolved in a number of ways, for example changing either/both <code>local-address</code> or <code>local-port</code> options:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/powerdns/pdns.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">local-address=127.0.0.1:54</pre>
<h3>
<span id="Zone_replication_via_AXFR_.28primary.2Fsecondary_setup.29"></span><span class="mw-headline" id="Zone_replication_via_AXFR_(primary/secondary_setup)">Zone replication via AXFR (primary/secondary setup)</span>
</h3>
<p>By default, zones in PowerDNS are <i>native</i>, which means that zone replication is handled by the backend. It is only make sense for MySQL and PostgreSQL backends as they have database replication facility.
</p>
<p>You can also configure PowerDNS in classical primary/secondary setup. First, enable appropriate mode in <code>/etc/powerdns/pdns.conf</code>.
</p>
<p>On primary:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/powerdns/pdns.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">primary=yes
allow-axfr-ips=<i>10.20.30.50</i>/32</pre>
<p>On secondary:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/powerdns/pdns.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">secondary=yes
allow-notify-from=<i>10.20.30.40</i>/32</pre>
<p>where <code>10.20.30.40</code> and <code>10.20.30.50</code> are IP addresses of primary and secondary, respectively.
</p>
<p><a href="../en/Help:Reading.html#Control_of_systemd_units" class="mw-redirect" title="Restart">Restart</a> <code>pdns.service</code>.
</p>
<p>Set the zone type on primary as primary zone:
</p>
<pre>[powerdns]$ pdnsutil set-kind example.net primary
</pre>
<p>On secondary, create the secondary zone, specifying primary's IP address to retrieve from:
</p>
<pre>[powerdns]$ pdnsutil create-secondary-zone example.net <i>10.20.30.40</i>
</pre>
<p>The zone will be transferred after a while.
</p>
<h4><span class="mw-headline" id="TSIG_authentication">TSIG authentication</span></h4>
<p>You can also authenticate zone transfers with TSIG keys.
</p>
<p>On primary, generate hmac-sha256 key:
</p>
<pre>[powerdns]$ pdnsutil generate-tsig-key example hmac-sha256
Create new TSIG key example <i>&lt;secret&gt;</i>
</pre>
<p>Enable the key for primary zone's outgoing transfer:
</p>
<pre>[powerdns]$ pdnsutil activate-tsig-key example.net example primary
</pre>
<p>On secondary, import the key:
</p>
<pre>[powerdns]$ pdnsutil import-tsig-key example hmac-sha256 '&lt;secret&gt;'
</pre>
<p>Enable the key for secondary zone's transfer request:
</p>
<pre>[powerdns]$ pdnsutil activate-tsig-key example.net example secondary
</pre>
<h2><span class="mw-headline" id="See_also">See also</span></h2>
<ul><li><a rel="nofollow" class="external text" href="https://doc.powerdns.com/">PowerDNS manual</a></li></ul>
</div>
</div>
					<div id="catlinks" class="catlinks" data-mw="interface"><div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../en/Category:Domain_Name_System.html" title="Category:Domain Name System">Domain Name System</a></li></ul>
</div></div>
				</div>
			</main>
			
		</div>
		<div class="mw-footer-container">
			
<footer id="footer" class="mw-footer" style="margin: 0">
	<ul id="footer-info">
	<li data-nosnippet="">Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=PowerDNS&amp;oldid=840736">https://wiki.archlinux.org/index.php?title=PowerDNS&amp;oldid=840736</a>"</li>
<li id="footer-info-lastmod"> This page was last edited on 11 July 2025, at 03:01.</li>
	<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="https://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
<br>
</ul>

	<ul id="footer-places">
	<li id="footer-places-privacy"><a href="https://terms.archlinux.org/docs/privacy-policy/">Privacy policy</a></li>
	<li id="footer-places-about"><a href="../en/ArchWiki:About.html">About ArchWiki</a></li>
	<li id="footer-places-disclaimers"><a href="../en/ArchWiki:General_disclaimer.html">Disclaimers</a></li>
	<li id="footer-places-archwiki-code-of-conduct"><a href="https://terms.archlinux.org/docs/code-of-conduct/" class="extiw" title="archlinux-service-agreements:code-of-conduct">Code of conduct</a></li>
	<li id="footer-places-archwiki-terms-of-service"><a href="https://terms.archlinux.org/docs/terms-of-service/" class="extiw" title="archlinux-service-agreements:terms-of-service">Terms of service</a></li>
</ul>

	<ul id="footer-icons" class="noprint">
	<li id="footer-copyrightico"><a href="https://www.gnu.org/copyleft/fdl.html" class="cdx-button cdx-button--fake-button cdx-button--size-large cdx-button--fake-button--enabled"><img src="/resources/assets/licenses/gnu-fdl.png" alt="GNU Free Documentation License 1.3 or later" width="88" height="31" loading="lazy"></a></li>
	<li id="footer-poweredbyico"><img src="/resources/assets/poweredby_mediawiki.svg" width="88" height="31" loading="lazy"></li>
</ul>

</footer>

		</div>
	</div> 
</div> 
<div class="vector-settings" id="p-dock-bottom">
	<ul></ul>
</div>
</body>
</html>
